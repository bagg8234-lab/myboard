{% extends "base.html" %}
{% block title %}í’ˆì¢… ìš”ì•½{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto">

  <!-- Title -->
  <div class="flex items-start justify-between mb-6">
    <div>
      <h1 class="text-3xl font-extrabold tracking-tight flex items-center gap-2">
        ğŸ“Š í’ˆì¢…ë³„ í‰ê·  ì¢…ë€ë¬´ê²Œ
      </h1>
      <p class="text-gray-500 mt-1">
        ìŠ¤í‚¤ë§ˆ: <span class="font-semibold">fms</span> |
        í…Œì´ë¸”: <span class="font-semibold">chick_info</span>
      </p>
    </div>

    <div class="flex gap-2">
      <a href="/fms/chick"
         class="px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 text-sm">
        â† ë³‘ì•„ë¦¬ ì •ë³´
      </a>
      <a href="{{ url_for('index') }}"
         class="px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 text-sm">
        â† ë©”ì¸
      </a>
    </div>
  </div>

  <!-- Summary Table Card -->
  <div class="bg-white rounded-2xl shadow-sm border mb-6 overflow-hidden">
    <div class="px-5 py-4 border-b">
      <h2 class="text-lg font-bold flex items-center gap-2">
        âœ… í’ˆì¢…ë³„ ìš”ì•½ í†µê³„
      </h2>
      <p class="text-sm text-gray-500 mt-1">í‰ê· /ìµœì†Œ/ìµœëŒ€/ë§ˆë¦¬ìˆ˜ ë¹„êµ</p>
    </div>

    <div class="overflow-x-auto">
      <table class="w-full text-sm">
        <thead class="bg-gray-50 text-gray-700">
          <tr>
            <th class="py-3 px-4 text-center font-semibold">í’ˆì¢…(breeds)</th>
            <th class="py-3 px-4 text-center font-semibold">í‰ê· (AVG)</th>
            <th class="py-3 px-4 text-center font-semibold">ìµœì†Œ(MIN)</th>
            <th class="py-3 px-4 text-center font-semibold">ìµœëŒ€(MAX)</th>
            <th class="py-3 px-4 text-center font-semibold">ì´ ë§ˆë¦¬ìˆ˜(COUNT)</th>
          </tr>
        </thead>

        <tbody class="divide-y">
          {% for row in summary %}
          <tr class="hover:bg-gray-50">
            <td class="py-3 px-4 text-center font-semibold text-gray-900">{{ row.breeds }}</td>
            <td class="py-3 px-4 text-center">{{ row.avg_egg_weight }}</td>
            <td class="py-3 px-4 text-center">{{ row.min_egg_weight }}</td>
            <td class="py-3 px-4 text-center">{{ row.max_egg_weight }}</td>
            <td class="py-3 px-4 text-center">{{ row.total }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Histogram Card -->
  <div class="bg-white rounded-2xl shadow-sm border overflow-hidden">
    <div class="px-5 py-4 border-b">
      <h2 class="text-lg font-bold flex items-center gap-2">
        ğŸ“ˆ egg_weight ë¶„í¬ íˆìŠ¤í† ê·¸ë¨
      </h2>
      <p class="text-sm text-gray-500 mt-1">ì „ì²´ ë°ì´í„° ì¢…ë€ë¬´ê²Œ ë¶„í¬ í™•ì¸</p>
    </div>

    <div class="p-5">
      <div class="bg-gray-50 border rounded-xl p-3 flex justify-center">
        <img
          src="{{ url_for('static', filename=hist_img) }}"
          alt="egg_weight histogram"
          class="max-w-full h-auto rounded-lg"
          style="max-height: 420px;"
        />
      </div>
    </div>
  </div>

</div>
{% endblock %}
